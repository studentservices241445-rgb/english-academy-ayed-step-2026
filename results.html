<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ูุชูุฌุฉ ุงูุงุฎุชุจุงุฑ ูุงูุฎุทุฉ โ ุฃูุงุฏูููุฉ ุนุงูุฏ</title>
  <link rel="stylesheet" href="./assets/styles.css?v=20260120" />
</head>
<body>
  <!-- ุงูุชุฑููุณุฉ -->
  <header class="navbar">
    <a href="./index.html" class="logo">ุฃูุงุฏูููุฉ&nbsp;ุนุงูุฏ</a>
    <button id="hamburger" class="hamburger">โฐ</button>
    <ul id="navLinks" class="nav-links">
      <li><a href="./index.html">ุงูุฑุฆูุณูุฉ</a></li>
      <li><a href="./course-content.html">ูุญุชูู ุงูุฏูุฑุฉ</a></li>
      <li><a href="./level-test.html">ุงุฎุชุจุงุฑ ุงููุณุชูู</a></li>
      <li><a href="./testimonials.html">ูุตุต ุงููุฌุงุญ</a></li>
      <li><a href="./faq.html">ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ</a></li>
      <li><a href="./support.html">ุงูุฏุนู</a></li>
    </ul>
  </header>

  <div class="ticker-bar"><span id="ticker"></span></div>

  <main class="page-content">
    <div id="resultsApp" class="results-summary"></div>
    <div id="planSection" class="plan-section"></div>
    <div id="priceSection" class="price-box" style="display:none;"></div>
  </main>

  <!-- ุงููุณุงุนุฏ ุงูุนุงุฆู -->
  <button id="assistantButton" class="assistant-button" aria-label="ูุชุญ ุงููุณุงุนุฏ">๐ฌ</button>
  <div id="assistantPanel" class="assistant-panel">
    <button id="closeAssistant" class="close-panel">ร</button>
    <h3>ุฃูู ุชูุฏ ุงูุฐูุงุจุ</h3>
    <ul>
      <li><a href="./course-content.html">ูุญุชูู ุงูุฏูุฑุฉ</a></li>
      <li><a href="./faq.html">ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ</a></li>
      <li><a href="./support.html">ุงูุฏุนู</a></li>
      <li><a href="./terms.html">ุงูุณูุงุณุงุช</a></li>
    </ul>
  </div>

  <footer class="footer">
    <div class="footer-links">
      <a href="./privacy.html">ุณูุงุณุฉ ุงูุฎุตูุตูุฉ</a>
      <a href="./terms.html">ุงูุดุฑูุท ูุงูุฃุญูุงู</a>
      <a href="./refund.html">ุณูุงุณุฉ ุงูุงุณุชุฑุฌุงุน</a>
      <a href="./support.html">ุงูุฏุนู</a>
    </div>
    <p>ยฉ 2026 ุฃูุงุฏูููุฉ ุนุงูุฏ. ุฌููุน ุงูุญููู ูุญููุธุฉ.</p>
  </footer>

  <script src="./assets/site-data.js?v=20260120"></script>
  <script src="./assets/app.js?v=20260120"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const resultsApp = document.getElementById('resultsApp');
      const planSection = document.getElementById('planSection');
      const priceSection = document.getElementById('priceSection');
      const data = localStorage.getItem('ayedResults');
      if (!data) {
        resultsApp.innerHTML = '<p>ูู ูุชู ุงูุนุซูุฑ ุนูู ูุชูุฌุฉ ุงูุงุฎุชุจุงุฑ. ูุฑุฌู ุฅุฌุฑุงุก ุงูุงุฎุชุจุงุฑ ุฃููุงู.</p>';
        return;
      }
      const results = JSON.parse(data);
      const { percent, stats, wrongSkills, info } = results;
      // ุชูููุฏ ููุฎุต ุงููุชุงุฆุฌ
      let summaryHtml = `<h2>ูุชูุฌุชู ุงูุฅุฌูุงููุฉ: ${percent.toFixed(0)}% ูู 100</h2>`;
      summaryHtml += '<h3>ุชูุตูู ุงูุฃูุณุงู:</h3>';
      Object.keys(stats).forEach((sec) => {
        const pct = stats[sec];
        let label;
        if (sec === 'grammar') label = 'ุงูููุงุนุฏ';
        else if (sec === 'reading') label = 'ุงููุฑุงุกุฉ';
        else if (sec === 'listening') label = 'ุงูุงุณุชูุงุน';
        else if (sec === 'vocab' || sec === 'vocabulary') label = 'ุงูููุฑุฏุงุช';
        else label = sec;
        summaryHtml += `<div class="bar-row"><span>${label}</span><div class="bar"><div class="bar-fill" style="width:${pct}%"></div></div> <span>${pct}%</span></div>`;
      });
      // ุงูููุงุฑุงุช ุงูุฃุถุนู
      const sortedSkills = Object.keys(wrongSkills).sort((a,b) => wrongSkills[b] - wrongSkills[a]).slice(0,3);
      if (sortedSkills.length) {
        summaryHtml += '<h3>ุงูููุงุฑุงุช ุงูุชู ุชุญุชุงุฌ ุชุฑููุฒ:</h3><ul>';
        sortedSkills.forEach(skill => {
          summaryHtml += `<li>${skill} (${wrongSkills[skill]} ุฎุทุฃ)</li>`;
        });
        summaryHtml += '</ul>';
      }
      resultsApp.innerHTML = summaryHtml;
      // ุงุฎุชูุงุฑ ูุงูุจ ุงูุฎุทุฉ ุจูุงุกู ุนูู ุงูููุนุฏ ููุณุจุฉ ุงููุฌุงุญ
      let plan = '';
      // ุงุณุชุฎุฏู info.examDate ูู quick info
      const exam = info && info.examDate ? info.examDate : '';
      // ุชุญุฏูุฏ ุงูุฎุทุฉ ุงูุชูุฑูุจูุฉ
      if (exam.includes('7')) {
        plan += '<h3>ุฎุทุฉ 7 ุฃูุงู</h3><ul>';
        plan += '<li>ุฑููุฒ ุนูู ุฃูู ุงูุชููููุงุช ูู ุงููุฑุงุกุฉ ูุงูููุงุนุฏ.</li>';
        plan += '<li>ุญู ููุงุฐุฌ ูุฎุชุตุฑุฉ ููููุงู (15-20 ุณุคุงู).</li>';
        plan += '<li>ูุฑุงุฌุนุฉ ุงูุฃุฎุทุงุก ุงูุณุงุจูุฉ ูุงูุชุฑููุฒ ุนูู ุงูููุงุฑุงุช ุงูุถุนููุฉ.</li>';
        plan += '<li>ุขุฎุฑ ููููู: ุงุฎุชุจุงุฑุงุช ุชุฌุฑูุจูุฉ ุจุฏูู ูุตุงุฏุฑ ุฌุฏูุฏุฉ.</li>';
        plan += '</ul>';
      } else if (exam.includes('14')) {
        plan += '<h3>ุฎุทุฉ 14 ููู</h3><ul>';
        plan += '<li>ุชุฃุณูุณ ุณุฑูุน ููููุงุนุฏ ุนุจุฑ ุฏุฑูุณ ูุตูุฑุฉ.</li>';
        plan += '<li>ุชุฏุฑุจ ุนูู ููุงุฐุฌ ุงููุฑุงุกุฉ ููููุงู ูุน ุชุฏููู ุงูุฃุฎุทุงุก.</li>';
        plan += '<li>ุฎุตุต ููุชูุง ููุงุณุชูุงุน ุงููููู (20-30 ุฏูููุฉ).</li>';
        plan += '<li>ุขุฎุฑ 4 ุฃูุงู: ุงุฎุชุจุงุฑุงุช ูุงููุฉ ููุฑุงุฌุนุฉ ุงูุฃุฎุทุงุก.</li>';
        plan += '</ul>';
      } else if (exam.includes('ุดูุฑ') || exam.includes('30')) {
        plan += '<h3>ุฎุทุฉ 30 ููู</h3><ul>';
        plan += '<li>ุชุฃุณูุณ ุดุงูู ููููุงุนุฏ ูุงูููุฑุฏุงุช.</li>';
        plan += '<li>ุชุนูู ูู ุงุณุชุฑุงุชูุฌูุงุช ุงููุฑุงุกุฉ ูุงูุงุณุชูุงุน.</li>';
        plan += '<li>ุญู ููุงุฐุฌ ูุชุนุฏุฏุฉ ูุชุฏููู ุงูููุงุญุธุงุช.</li>';
        plan += '<li>ุฒูุงุฏุฉ ุณุฑุนุฉ ุงูุญู ุชุฏุฑูุฌูุงู ูุน ุงูููุงุฑุณุฉ.</li>';
        plan += '</ul>';
      } else {
        plan += '<h3>ุฎุทุฉ 45โ60 ููู</h3><ul>';
        plan += '<li>ุงุจุฏุฃ ุจุชุฃุณูุณ ูุงุฏุฆ ููููุงุนุฏ ูุงูููุฑุฏุงุช.</li>';
        plan += '<li>ูุฒุน ุฃูุณุงู ุงูุงุฎุชุจุงุฑ ุนูู ุงูุฃุณุจูุน ุจุงูุชุณุงูู.</li>';
        plan += '<li>ุญู ุงุฎุชุจุงุฑุงุช ุชุฌุฑูุจูุฉ ุฃุณุจูุนูุงู ูุชุญููู ุงููุชุงุฆุฌ.</li>';
        plan += '<li>ุชุงุจุน ุชุญุณูู ุงูุณุฑุนุฉ ูุงูุฏูุฉ ุญุชู ููุนุฏ ุงูุงุฎุชุจุงุฑ.</li>';
        plan += '</ul>';
      }
      planSection.innerHTML = plan;
      // ุฅุธูุงุฑ ุงูุณุนุฑ ูุฒุฑ ุงูุชุณุฌูู
      const seats = 20; // ุฑูู ุซุงุจุช ูุฅุจุฑุงุฒ ุงูููุงุนุฏ (ูููู ุชุญุฏูุซู ุฏููุงููููุงู)
      priceSection.innerHTML = `<p>ุงูููุงุนุฏ ุงููุชุจููุฉ: <strong>${seats}</strong></p><p class="current-price">349 ุฑูุงู</p><p class="original-price">599 ุฑูุงู</p><button onclick="window.location.href='./register.html'">ุณุฌูู ุงูุขู</button>`;
      priceSection.style.display = 'block';
    });
  </script>
</body>
</html>